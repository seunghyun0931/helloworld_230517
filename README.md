 # 리눅스 명령어 top, ps, jobs, kill 명령어 #
 

리눅스에는 수많은 명령어가 있는데 그중 top, ps, jobs, kill 총 4가지 명령어에 관하여 소개할 것이다.

top란
-----
* 시스템의 상태를 전반적으로 가장 빠르게 파악할 수 있는 명령어다.(cpu, 메모리, 프로세스 등)
* 실시간으로 현재 os의 상태를 출력해줌으로써 os에 문제가 있을 시 원인을 찾을 수 있는 명령어다.

tops을 입력하면 아래와 비슷한 화면이 출력된다. 
 ![다운로드](https://github.com/seunghyun0931/helloworld_230517/assets/133843257/5effcc5f-660f-4791-a420-db80ea46b48c)

__첫 번째 줄은__
* 시스템의 현재시간
* 서버 구동시간
* 현재 접속 유저수
* 로드 에버리지(1분, 5분, 15분 동안의 시스템 부하량 평균값)을 의미한다.

__두 번째 줄은__
* 전체프로세서들 수 (total)
* 실행중 수(running)
* 대기중 수(sleeping)
* 종료 수(stopped)
* 좀비 수 (zombie)를 의미한다.

__세 번째 줄은 cpu사용량을 나타내는데__
* us는 프로세스의 유저 영역에서의 cpu 사용률 
* sy는 프로세스의 커널 영역에서의 CPU 사용률
* ni는 프로세스의 우선순위(priority) 설정에 사용하는 CPU 사용률
* id는 사용하고 있지 않는 비율
* wa는 IO가 완료될때까지 기다리고 있는 CPU 비율
* hi는 하드웨어 인터럽트에 사용되는 CPU 사용률
* si는 소프트웨어 인터럽트에 사용되는 CPU 사용률
* st는 CPU를 VM에서 사용하여 대기하는 CPU 비율

__다음 줄은 RAM의 메모리 영역, 그 다음 줄은 디스크를 메모리처럼 이용하는 SWAP 메모리 영역이다.__
* total은 총 메모리 양
* free는 사용가능 메모리 양
* used는 사용중인 메모리 양
* buff/cache는 커널 버퍼 사용 메모리 양
* avail Mem은 물리적 메모리 양을 의미함

---

ps란
----
* process status의 줄임말이며, 현재 실행중인 프로세스 목록과 상태를 출력하여 보여주는 기능 (윈도우의 작업관리자와 유사)
__ps 사용법(-가 붙고 안 붙고 옵션이 달라짐)__
* a : ps가 모든 프로세스를 터미널과 함께 나열하거나, x옵션과 함께 사용할 경우 모든 프로세스 나열
* -a : 세선 리더, 터미널과 연관된 프로세서를 제외하고 모든 프로세서를 보여줌
* -A, -e : 모든 프로세서를 보여줌
* r : 현재 실행중인 프로세스만 선택해서 보여줌
* x : ps가 사용자가 소유한 모든 프로세스를 나열하거나 옵션과 함께 사용할 경우 모든 프로세스를 나열
* -p : 프로세스 ID를 특정해서 확인할 수 있음
* u : 유저 중심 형식으로 보여줌
* f : Fully 포맷 형태를 보여줌
* -o : 유저가 정의한 포맷팅으로 보여줌
* m, -m : 프로세스 다음에 스레드 정보도 보여줌

__ps가 보여주는 칼럼들의 의미__

* user : 프로세스를 소유한 사용자
* PID : 프로세스 아이디
* %cpu : cpu 사용률
* $MEM : 메모리 사용률
* VSZ : 가상 메모리 사용량
* RSS : 실제 메모리 사용량
* TTY : 프로세스를 컨트롤 하는 터미널
* STAT : 현재 프로세스의 상태
* START : 프로세스 시작날
* TIME : 프로세스가 지금까지 사용한 CPU시간
* COMMAND : 프로세스 실행할 때 사용된 CMD

아래 사진은 ps-ef를 입력했을 때 나오는 사진이다

![PS-EF](https://github.com/seunghyun0931/helloworld_230517/assets/133843257/1cc56770-2bf5-492a-ba46-a6561c7eddcb)

아래 사진은 ps auxf를 입력했을 때 나오는 사진이다

![ps auxf](https://github.com/seunghyun0931/helloworld_230517/assets/133843257/1b497baf-dfca-4fa1-adac-aabf5aa8fca0)

---

jobs란
-----
* 작업이 중지된 상태, 백그라운드로 진행 중인 작업 상태, 변경되었지만 보고되지 않은 상태를 표시하는 명령어
* -l : 프로세스 그룹 id를 state 필드 앞에 출력
* -n : 프로세스 그룹 중에 대표 프로세스 id를 출력
* -p : 각 프로세스 id에 대해 한 행씩 출력
* command : 지정한 명령어를 실hon
* 
__jobs로 출력되는 백그라운도 작업의 상태값__

* Running : 작업이 계속 진행중임
* Done : 작업이 완료되어 0을 반환
* Done(code) : 작업이 종료되었으며 0이 아닌 코드를 반환
* Stopped : 작업이 일시중단
* Stopped(SIGTSTP) : SIGTSTP 시그널이 작업을 일시중단
* Stopped(SIGSTOP) : SIGSTOP 시그널이 작업을 일시중단
* Stopped(SIGTTIN) : SIGTTIN 시그널이 작업을 일시중단
* Stopped(SIGTTOU) : SIGTTOU 시그널이 작업을 일시중단

아래 사진은 jobs를 입력했을 때 나오는 사진이다

<img width="486" alt="evernote_image_2" src="https://github.com/seunghyun0931/helloworld_230517/assets/133843257/1884bd14-c580-4f11-be05-0af365eddfd7">

---

kill이란
---
* 대부분의 프로세스를 종료시킬 떄 사용함

__kill 명령어 사용법__

아래 사진은 kill 명령어에서 -l 옵션을 사용하면 사용 가능한 모든 신호다

![KakaoTalk_Snapshot_20230519_150835](https://github.com/seunghyun0931/helloworld_230517/assets/133843257/f19c141d-f6af-4a66-bc99-bc3163bd4a4b)

아래 표는 자주 사용되는 신호를 정리해둔 것이다.

| 1  | SIGHUP  |로그아웃등의 접속이 끊을 때 발생하는 신호로 특정 실행 중인 프로그램이 사용하는 설정 파일을 변경시키고 변화된 내용을 적용할 때 사용|
|----|---------|:-----------------------------------------------------------------------------------------------------------------------------------------------:|
| 2  | SIGINT  | 현재 작동 중인 프로그램의 동작을 멈출 때 사용되며, 일반적인 값은 + |
| 9  | SIGKILL | 프로그램을 무조건 종료할 경우 사용|
| 11 | SIGSEGV | 잘못된 메모리 관리 시 생기는 신호|
| 15 | SIGTERM | 실행 중인 프로그램을 정상적인 종료 방법으로 프로그램을 종료하는 신호로 kill 명령에서 신호를 지정하지 않으면 이 신호(를 사용하여 프로그램을 종료 |
| 18 | SIGCONT | 중지 되어 있는 프로그램을 재실행 하는데 사용되는 신호|
| 19 | SIGSTOP | 프로그램을 중지 하는데 사용되는 신호|
| 20 | SIGTSTP | 터미널에서 중지되어 있는 신호|


